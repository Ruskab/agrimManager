<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      lang="en" xml:lang="en"
      xmlns:agrim="http://java.sun.com/jsf/composite/components/agrim"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<head>
    <title>Header menu</title>
</head>


<composite:interface>
</composite:interface>

<composite:implementation>
    <div class="p-grid">
        <h:form>
            <p:growl id="headerMessages"/>

            <p:menubar>

                <p:submenu label="#{msg['web.header.api-services']}" icon="pi pi-globe">
                    <p:menuitem value="#{msg['web.header.clients']}" url="#{request.contextPath}/api/v0/clients"/>
                    <p:separator/>
                    <p:menuitem value="#{msg['web.header.vehicles']}" url="#{request.contextPath}/api/v0/vehicles"/>
                    <p:separator/>
                    <p:menuitem value="#{msg['web.header.interventions']}" url="#{request.contextPath}/api/v0/interventions"/>
                    <p:separator/>
                    <p:menuitem value="#{msg['web.header.repairing-paks']}" url="#"/>
                </p:submenu>

                <p:menuitem value="#{msg['web.header.clients']}" url="#{request.contextPath}/backoffice/clients.xhtml" icon="pi pi-users"/>

                <p:menuitem value="#{msg['web.header.vehicles']}" url="#{request.contextPath}/backoffice/vehicles.xhtml" icon="fa fa fa-car fa-xs"/>

                <p:submenu label="#{msg['web.header.interventions']}" icon="fa fa fa-wrench fa-xs">
                    <p:menuitem value="#{msg['web.header.myInterventions']}" url="#{request.contextPath}/backoffice/myInterventions.xhtml"/>
                    <p:separator/>
                    <p:menuitem value="#{msg['web.header.interventions']}" rendered="#{sessionBean.mechanic.anyRoleGranted('ADMIN')}" url="#{request.contextPath}/backoffice/interventions.xhtml"/>
                    <p:separator/>
                    <p:menuitem value="#{msg['web.header.newintervention']}" oncomplete="PF('createIntervention').show()"/>
                    <p:separator/>
                </p:submenu>

                <p:menuitem value="#{msg['web.header.operations']}"
                            url="#{request.contextPath}/backoffice/operations.xhtml" icon="fa fa-xs fa-bomb"/>
                <p:submenu label="#{username}" icon="pi pi-user">
                    <p:menuitem value="#{msg['web.header.logout']}" action="#{loginBean.logout}"/>
                    <p:separator/>
                </p:submenu>

            </p:menubar>
        </h:form>
        <h:form>
            <agrim:createIntervention/>
        </h:form>
    </div>
</composite:implementation>

</html>